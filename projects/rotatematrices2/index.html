<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Rotating matrices 2 | Alex (Monty) Milner </title> <meta name="author" content="Alex (Monty) Milner"> <meta name="description" content="Does an invertible matrix stay invertible if you rotate its rows?"> <meta name="keywords" content="algebra, geometry, phd, math, mathematics, edinburgh, university, academic-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://alexandermilner.github.io/projects/rotatematrices2/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> </head> <body class="fixed-top-nav sticky-bottom-footer"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Alex</span> (Monty) Milner </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About </a> </li> <li class="nav-item "> <a class="nav-link" href="/research/">Research </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">CV </a> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Rotating matrices 2</h1> <p class="post-description">Does an invertible matrix stay invertible if you rotate its rows?</p> </header> <article> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/bipartite4-480.webp 480w,/assets/img/bipartite4-800.webp 800w,/assets/img/bipartite4-1400.webp 1400w," type="image/webp" sizes="95vw"> <img src="/assets/img/bipartite4.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Bipartite graph" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </source></picture> </figure> </div> </div> <div class="caption"> Figure 1: A bipartite graph. </div> This project is designed to give an introduction to [this write-up](/assets/pdf/Unlocking_Matrices.pdf), which is based on the final chapter of my [masters dissertation](/assets/pdf/PM.pdf). ## Unlocking matrices by row rotations A slightly random but fun question we can ask is: given a matrix, when can we rotate its rows to make it invertible? We will say that a matrix can be unlocked if there is a way we can rotate its rows so that it becomes invertible. ### Examples For example, the matrix $$ \pi = \begin{pmatrix} 3 &amp; -1 &amp; -4 \\ 1 &amp; 5 &amp; -9 \\ 2 &amp; -6 &amp; 5 \end{pmatrix}$$ is not currently invertible since $$\det(\pi)$$=0. However, if we rotate the 3rd row to the left by one step, we get the matrix $$\begin{pmatrix} 3 &amp; -1 &amp; -4 \\ 1 &amp; 5 &amp; -9 \\ -6 &amp; 5 &amp; 2 \end{pmatrix}$$, which has determinant -27 and thus is invertible. So $$\pi$$ can indeed be unlocked. Now let's look at another example. Take $$\gamma = \begin{pmatrix} 2 &amp; -7 &amp; 5 \\ -3 &amp; -8 &amp; 11 \\ 2 &amp; 0 &amp; -2 \end{pmatrix}$$. Now, however hard you try, you will never be able to rotate the rows of $$\gamma$$ such that its determinant is non-zero and thus $$\gamma$$ can never be unlocked. A clever way to see why this happens is to notice that the digits in each row of $$\gamma$$ add up to 0. Thus, $$(1,1,1)$$ is an eigenvector of $$\gamma$$ with eigenvalue 0 no matter how we rotate the rows. Since the determinant of a matrix is equal to the product of its eigenvalues then the determinant of $$\gamma$$ is always zero. Using the same logic, we can see that any matrix where all its rows add up to 0 can never be unlocked. We might conjecture that if the rows of a matrix do not all add up to 0, then it can be unlocked. However, an easy counterexample is the matrix containing all 1s. A more interesting example of a matrix that can never be unlocked is $$\rho = \begin{pmatrix} 1 &amp; 0 &amp; 1 &amp; 0 \\ 0 &amp; 1 &amp; 0 &amp; 1 \\ 1 &amp; 1 &amp; 1 &amp; 1 \\ a &amp; b &amp; c &amp; d \end{pmatrix}$$ where $$a$$,$$b$$,$$c$$ and $$d$$ can be any numbers. We can notice that the first 3 rows of $$\rho$$ will never be linearly independent no matter how we rotate them and thus the determinant will always be zero. Having seen these different examples, it might not even seem like there would be an exact condition on when a matrix can be unlocked? Surprisingly, there is - we just need the help of a little bit of algebraic geometry and graph theory. The original idea for the following construction comes from <a class="citation" href="#KS_2004">(KÃ©zdy &amp; Snevily, 2004)</a> which has been built-upon in <a class="citation" href="#BKS_2014">(Brauch et al., 2014)</a>, however, both focus on a small class of matrices and only over the complex numbers. In [this write-up](/assets/pdf/Unlocking_Matrices.pdf), we extend these ideas to work for any matrix over any field. ### A little bit of algebraic geometry Assume we are a given an $$n \times n$$ matrix $$M$$. We will assume we are working over the complex numbers for now as we will need $$n$$ distinct roots of unity. We start by defining polynomials $$ g_i(x_i) := \sum_{j=1}^{n} M_{ij} x_i^{j-1} $$ for $$i \in \{1,...,n\}$$. All we need to know about the $$g_i$$'s is that they each encode the information of the $$i$$th row of our matrix $$M$$ in polynomial form. We now define another polynomial $$ f_M(x_1,...,x_n) := \prod_{1 \le j &lt; k \le n} (x_k-x_j) \sum_{i=1}^{n} g_i(x_i) $$. While $$f_M$$ may look fairly arbitrary, its key features are that it contains all the information about our matrix $$M$$ (both the elements of $$M$$ and their positions) and it vanishes on any input $$(x_1,...,x_n)$$ where $$x_i = x_j$$ for some $$i \neq j$$. The magic part is that if we expand $$f_M$$ into a sum of monomials modulo the ideal $$ \mathcal{I} := \langle x_1^n-1,...,x_n^n-1 \rangle$$, the coefficient of each monomial is the determinant of the matrix given by rotating the rows of $$M$$ according to said monomial up to a sign change. Thus $$M$$ cannot be unlocked if and only if $$f_M \in \mathcal{I}$$. While this is an exact condition on $$M$$ being able to be unlocked, which is what we were looking for, $$f_M$$ is not a very intuitive polynomial and we haven't used any graph theory yet! ### A little bit of graph theory We will need two key pieces of graph theory to get a nic exact condition on when our matrix $$M$$ can be unlocked. The first key piece of graph theory we will need is bipartite graphs which are graphs whose vertices are partitioned into two sets where no two vertices lying in the same set share an edge. So let's define a bipartite graph $$G_M$$ with the first edge set being $$\{1,...,n\}$$ and the second being the set of $$n$$th roots of unity which we will denote $$\mu_n$$. Now, let $$i \in \{1,...,n\}$$ and let $$z$$ be an $$n$$th root of unity. Given our matrix $$M$$ and our polynomials $$g_i$$, there is an edge connecting $$i$$ and $$z$$ if and only if $$g_i(z) \neq 0$$. Figure 1 at the top of the page shows the bipartite graph $$G_M$$ where $$ \begin{pmatrix} 1 &amp; 0 &amp; 1 &amp; 0 \\ 1 &amp; 1 &amp; 1 &amp; 1 \\ 2 &amp; 0 &amp; 2 &amp; 5 \\ -1 &amp; 1 &amp; -1 &amp; 1 \end{pmatrix}$$ and $$\theta^2 = -1$$. The second key piece of graph theory we will need is perfect matchings on a bipartite graph. As you might have guessed from the name, a perfect matching on a bipartite graph with $$2n$$ vertices is $$n$$ edges which touch all vertices in the graph. A perfect matching is demonstrated in Figure 2. <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/perfectmatching-480.webp 480w,/assets/img/perfectmatching-800.webp 800w,/assets/img/perfectmatching-1400.webp 1400w," type="image/webp" sizes="95vw"> <img src="/assets/img/perfectmatching.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Bipartite graph" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </source></picture> </figure> </div> </div> <div class="caption"> Figure 2: A bipartite graph which has a perfect matching given by the blue and red edges. </div> Now we can finally state the exact condition. ```{theorem, label, name="Theorem name"} A matrix $$M$$ can be unlocked if and only if $$G_M$$ contains a perfect matching. ``` \begin{thm} A matrix $$M$$ can be unlocked if and only if $$G_M$$ contains a perfect matching. \end{thm} The final step of the proof uses an extraordinary and incredibly useful result called the Combinatorial Nullstellensatz, which first appeared in Alon's paper <a class="citation" href="#Alon_1999">(Alon, 1999)</a> and crops up all the time in algebraic geometry, combinatorics and graph theory however it is slightly too wordy to include in this overview. ### Conclusion While this connection between when matrices can be unlocked and when bipartite graphs have perfect matchings seems a bit magical at first, it seems less random when it is put in context by KÃ©zdy and Snevily's paper <a class="citation" href="#KS_2004">(KÃ©zdy &amp; Snevily, 2004)</a>. However there are more many questions we could go on to ask. What happens if we allow both row and column rotations? What happens if we are allowed to permute the elements of our matrix at will? All is revealed in [this write-up](/assets/pdf/Unlocking_Matrices.pdf) and we in fact answer the latter question before the former using lots of graph theory along the way. </article> <h2>References</h2> <div class="publications"> <h2 class="bibliography">2014</h2> <ol class="bibliography"><li> <div class="row"> <div class="col col-sm-2 abbr"> </div> <div id="BKS_2014" class="col-sm-8"> <div class="title">The Combinatorial Nullstellensatz and DFT on Perfect Matchings in Bipartite Graphs</div> <div class="author"> Timothy Brauch,Â AndrÃ© KÃ©zdy,Â andÂ Hunter Snevily </div> <div class="periodical"> <em>Ars Combinatoria</em>, 2014 </div> <div class="periodical"> </div> <div class="links"> </div> </div> </div> </li></ol> <h2 class="bibliography">2004</h2> <ol class="bibliography"><li> <div class="row"> <div class="col col-sm-2 abbr"> </div> <div id="KS_2004" class="col-sm-8"> <div class="title">Polynomials that Vanish on Distinct nth Roots of Unity.</div> <div class="author"> AndrÃ© KÃ©zdy,Â andÂ Hunter Snevily </div> <div class="periodical"> <em>Combinatorics, Probability and Computing</em>, 2004 </div> <div class="periodical"> </div> <div class="links"> <a href="https://doi.org/10.1017/S0963548303005923" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">DOI</a> </div> </div> </div> </li></ol> <h2 class="bibliography">1999</h2> <ol class="bibliography"><li> <div class="row"> <div class="col col-sm-2 abbr"> </div> <div id="Alon_1999" class="col-sm-8"> <div class="title">Combinatorial Nullstellensatz</div> <div class="author"> Noga Alon </div> <div class="periodical"> <em>Combinatorics, Probability and Computing</em>, 1999 </div> <div class="periodical"> </div> <div class="links"> <a href="https://doi.org/10.1017/S0963548398003411" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">DOI</a> </div> </div> </div> </li></ol> </div> </div> </div> <footer class="sticky-bottom mt-5" role="contentinfo"> <div class="container"> Â© Copyright 2025 Alex (Monty) Milner. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: February 10, 2025. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?70d799092f862ad98c7876aa47712e20"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> </body> </html>